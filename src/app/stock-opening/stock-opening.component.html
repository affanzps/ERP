
<app-header></app-header>
<router-outlet></router-outlet>

<div class="card-header d-flex align-items-center justify-content-between rounded-0 py-2">

  <!-- Title Section -->
  <div class="text-dark fw-bold fs-6">Stock Opening</div>

  <!-- Toolbar Section -->
  <div class="card-toolbar d-flex align-items-center gap-2">

    <!-- Search Input -->
    <div class="r-text r-input">
      <div class="w-100 position-relative">
        <input
          class="p-inputtext p-component p-element w-100"
          type="text"
          placeholder="Filter keywords"
          aria-label="Search keywords"
        />
        <i class="fa-solid fa-magnifying-glass position-absolute end-0 top-50 translate-middle-y me-2"></i>
      </div>
    </div>

    <!-- Refresh Button -->
    <button class="btn btn-light btn-icon btn-sm fs-7">
      <i class="fa-solid fa-lock-open"></i>
    </button>

    <!-- Settings Button -->
    <button class="btn btn-light btn-sm fs-7 d-flex justify-content-center align-items-center">
      <i class="fa-solid fa-rotate"></i>
    </button>

    <!-- New Button -->
    <button class="btn btn-primary btn-sm fs-7 d-flex justify-content-center align-items-center" (click)="navigateToStockOpeningList()">
      <i class="fa-solid fa-plus"></i>
        <span>    New</span>
    </button>

    <!-- Close Button -->

    <button class="btn btn-light btn-icon btn-sm fs-7"   >
      <i class="fa-solid fa-xmark"></i>

    </button>

  </div>
</div>

<nav>
  <div class="blockui-overlay" style="z-index: 99999; display: none;">
    <div class="blockui-message">
      <span class="spinner-border text-primary"></span> Please wait...
    </div>
  </div>

  <div class="d-flex justify-content-between wrapper" style="min-height: 20px;">
    <ul class="nav nav-pills " role="tablist" style="color: bisque;">
      <li class="nav-item mx-0 cursor-pointer ">
        <div data-bs-toggle="pill" role="tab" class="nav-link d-flex justify-content-center w-100 border-0 active">
          <span class="nav-text text-gray-800 fs-7 fw-normal" style="font-size: small;">All</span>
          <span class="badge ms-1 h-12px badge-secondary">{{stocklist.Total}}</span>
        </div>
      </li>
    </ul>

    <div class="col-xs-1 me-3">
      <div class="badge fw-semibold fs-8 m-0 p-1 bg-body text-dark text-hover-primary">
        <i class="bi bi-filter cursor-pointer" style="font-size: 12px;"></i>
      </div>
    </div>
  </div>
</nav>
<br>

<div class="stock-opening">

  <div class="p-datatable-striped p-datatable-sm p-datatable-xs p-datatable p-component p-datatable-hoverable-rows p-datatable-scrollable p-datatable-flex-scrollable">
  <div class="p-datatable-wrapper">



  <table class="table table-striped table table-hover p-datatable p-datatable-scrollable ng-star-inserted" >
    <thead class="p-datatable-thead">
      <!-- <tr>
        <th>Doc Nbr</th>
        <th>Date</th>
        <th>Ref #</th>
        <th>Warehouse</th>
        <th>Rows</th>
        <th>Amount</th>
      </tr> -->

      <tr>
        <th  class="w-70px h-12px">Doc Nbr</th>
        <th  class="w-70px">Date</th>
        <th  class="col-xs-2">Ref #</th>
        <th  class="col-xs-2">Warehouse</th>
        <th  class="w-40px">Rows</th>
        <th  class="col-xs-2">Amount </th>
        <!-- <th  class="w-50px"></th> -->
        <th  style="width: auto;" class="text-end"></th>
      </tr>
    </thead>
    <tbody class="  p-datatable-tbody">
      <tr _ngcontent-ng-c4050952743="" prowgroupheader="" class="p-rowgroup-header p-element ng-star-inserted" style="top: 33px;"><td _ngcontent-ng-c4050952743="" colspan="40" class="bg-light"><span _ngcontent-ng-c4050952743="" class="fw-bold fs-7 ps-2">Recent</span></td></tr>

      <tr class="w-70px h-14px" *ngFor="let item of stocklist.Data" (mouseover)="onHover(item)" (mouseleave)="onLeave(item)">
        <td >{{item.DocNbr}}</td>
        <td>{{item.DocDate}}</td>
        <td>{{item.RefDocNbr}}</td>
        <td>{{item.Warehouse.Name}}</td>
        <td>{{item.TTLRows}}</td>
        <td>{{item.TTLNetAmount}}</td>
        <td _ngcontent-ng-c4050952743="" class="w-80 ng-star-inserted"><!----></td>
        <!-- <td>{{item.Log.Creator}}-{{item.Log.CreatedOn | date:'dd-MM-yyyy'}}</td> -->

        <td style="text-align: right;padding-right: 30px;color: grey;">
          <button
            *ngIf="item.isHovered"
            class=" btn-sm rounded-0 tooltip-container "
            (click)="deleteRecord(item.Id)"
            type="button"
            style="color: grey;"
          >
            <i class="fa fa-trash"></i>

            <span class="tooltip-text">Delete</span>
          </button>
          <button
          *ngIf="item.isHovered"
          class=" btn-sm rounded-0 tooltip-container"
          (click) ="editRecord(item.Id)"
          type="button"
          style="color: grey;"
        >
          <i class="fa fa-edit"></i>
        </button>
          <span style="color: grey;font-size: 10px;"  *ngIf="!item.isHovered">{{ item.Log.Creator }} - {{ item.Log.CreatedOn | date: 'dd-MM-yyyy' }}</span>
        </td>


      </tr>



      <!-- Add rows as needed -->
    </tbody>
  </table>
  |</div>
  </div>
</div>
